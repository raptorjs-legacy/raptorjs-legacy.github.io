(function(){var e=function(e){return e=+e,e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e},t="a"[0]!="a",n=function(e){if(e==null)throw new TypeError("can't convert "+e+" to object");return t&&typeof e=="string"&&e?e.split(""):Object(e)},r=Function.prototype.call,i=Array.prototype,s=Object.prototype,o=i.slice;Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError("Function.prototype.bind called on incompatible "+n);var r=o.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,u=n.apply(s,r.concat(o.call(arguments)));return Object(u)===u?u:s}return n.apply(t,r.concat(o.call(arguments)))};return i});var u=r.bind(s.toString),a=r.bind(s.hasOwnProperty);Array.isArray||(Array.isArray=function(t){return u(t)=="[object Array]"}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var r=n(this),i=arguments[1],s=-1,o=r.length>>>0;if(u(t)!="[object Function]")throw new TypeError;while(++s<o)s in r&&t.call(i,r[s],s,r)}),Array.prototype.map||(Array.prototype.map=function(t){var r=n(this),i=r.length>>>0,s=Array(i),o=arguments[1];if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var a=0;a<i;a++)a in r&&(s[a]=t.call(o,r[a],a,r));return s}),Array.prototype.filter||(Array.prototype.filter=function(t){var r=n(this),i=r.length>>>0,s=[],o,a=arguments[1];if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var f=0;f<i;f++)f in r&&(o=r[f],t.call(a,o,f,r)&&s.push(o));return s}),Array.prototype.every||(Array.prototype.every=function(t){var r=n(this),i=r.length>>>0,s=arguments[1];if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var o=0;o<i;o++)if(o in r&&!t.call(s,r[o],o,r))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(t){var r=n(this),i=r.length>>>0,s=arguments[1];if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");for(var o=0;o<i;o++)if(o in r&&t.call(s,r[o],o,r))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var r=n(this),i=r.length>>>0;if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");if(!i&&arguments.length==1)throw new TypeError("reduce of empty array with no initial value");var s=0,o;if(arguments.length>=2)o=arguments[1];else do{if(s in r){o=r[s++];break}if(++s>=i)throw new TypeError("reduce of empty array with no initial value")}while(!0);for(;s<i;s++)s in r&&(o=t.call(void 0,o,r[s],s,r));return o}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var r=n(this),i=r.length>>>0;if(u(t)!="[object Function]")throw new TypeError(t+" is not a function");if(!i&&arguments.length==1)throw new TypeError("reduceRight of empty array with no initial value");var s,o=i-1;if(arguments.length>=2)s=arguments[1];else do{if(o in r){s=r[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}while(!0);do o in this&&(s=t.call(void 0,s,r[o],o,r));while(o--);return s}),Array.prototype.indexOf||(Array.prototype.indexOf=function(r){var i=n(this),s=i.length>>>0;if(!s)return-1;var o=0;arguments.length>1&&(o=e(arguments[1])),o=o>=0?o:Math.max(0,s+o);for(;o<s;o++)if(o in i&&i[o]===r)return o;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(r){var i=n(this),s=i.length>>>0;if(!s)return-1;var o=s-1;arguments.length>1&&(o=Math.min(o,e(arguments[1]))),o=o>=0?o:s-Math.abs(o);for(;o>=0;o--)if(o in i&&r===i[o])return o;return-1});if(!Object.keys){var f=!0,l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=l.length;for(var h in{toString:null})f=!1;Object.keys=function m(e){if(typeof e!="object"&&typeof e!="function"||e===null)throw new TypeError("Object.keys called on a non-object");var m=[];for(var t in e)a(e,t)&&m.push(t);if(f)for(var n=0,r=c;n<r;n++){var i=l[n];a(e,i)&&m.push(i)}return m}}Date.now||(Date.now=function(){return(new Date).getTime()});var p="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||p.trim()){p="["+p+"]";var d=new RegExp("^"+p+p+"*"),v=new RegExp(p+p+"*$");String.prototype.trim=function(){if(this===undefined||this===null)throw new TypeError("can't convert "+this+" to object");return String(this).replace(d,"").replace(v,"")}}})();
(function(){var e=String.prototype;e.startsWith||(e.startsWith=function(e,t){var n=this;return t&&(n=n.substring(t)),n.length<e.length?!1:n.substring(0,e.length)==e}),e.endsWith||(e.endsWith=function(e,t){var n=this;return t&&(n=n.substring(t)),n.length<e.length?!1:n.slice(0-e.length)==e})})();
(function(){if(typeof window!="undefined"&&window.raptorDefine!==undefined){define=window.raptorDefine,require=window.raptorRequire;return}var e,t={},n=function(e){return e&&t[e]||(t[e]={postCreate:[]})},r={},i="/",s={},o=[].slice,u=Array.isArray,a=function(e,t){e||(e={});for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},f=function(e){return typeof e=="string"},l=function(e){return typeof e=="function"},c=function(e,t,n){e!=null&&(e.forEach?e:[e]).forEach(t,n)},h=function(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n,r,e[r])},p=function(e,t,n){var r=l(t)?t():t,i;return n&&c(n,function(e){if(i=e(r))r=i}),r},d=function(e,t,n){var r=e.prototype,i=function(){},s=f(t)?w(t):t;return i.prototype=s.prototype,e.superclass=i.prototype,e.prototype=new i,n&&a(e.prototype,r),r},v=function(e,t,n){if(!l(e)){var r=e;e=r.init||function(){},a(e.prototype,r)}t&&d(e,t,!0),e.getName=e.getName||function(){return n};var i=e.prototype;return i.constructor=e,i.getClass=function(){return e},e},m=function(){return this._ordinal},g=function(){return this._name},y=function(e){return this._ordinal-e._ordinal},b=function(e,t){e.charAt(0)==i&&(e=e.substring(1));if(e.charAt(0)=="."){if(!t)return e;var n=t.split(i).slice(0,-1);return c(e.split(i),function(e,t){e==".."?n.splice(n.length-1,1):e!="."&&n.push(e)}),n.join(i)}return e.replace(/\./g,i)},w=function(n,i,s){if(i)return w("raptor/loader").load(n,i,s);if(r.hasOwnProperty(n))return r[n];if(e.exists(n)){var o=t[n];return r[n]=p(n,o.factory,o.postCreate)}throw new Error(n+" not found")},E={load:function(e,t){var n=this.normalize;u(e)||(e=[e]);for(var r=0,i=e.length;r<i;r++)e[r]=n(e[r]);return w(e,t)},exists:function(t){return e.exists(this.normalize(t))},find:function(t){return e.find(this.normalize(t))}},S={extend:function(){return N(arguments,this.require,0,1)},Class:function(){return N(arguments,this.require,1)},Enum:function(){return N(arguments,this.require,0,0,1)}},x=function(e){return a(e,S)},T=function(e){return a(e,E)},N=function(t,n,r,i,s){var o=0,p=t.length-1,d,w,E,S,x,N=[],k,L,A=T(function(e,t){return t?A.load(e,t):n(e,E)}),O=new C(A),M=O.exports,_={require:A,exports:M,module:O},D=function(){return S=f(S)?A(S):S},P=function(){return c(N,function(e,t){if(f(e)){var r;(r=_[e])||(r=e=="super"?D().prototype:n(e,E)),N[t]=r}}),N};A.normalize=function(e){return b(e,E)};for(;o<p;o++)w=t[o],f(w)?E?S=b(w,E):E=O.id=b(w):u(w)?N=w:s?x=w:S=w.superclass;return L=t[p],i?k=function(t){l(L)&&(L=L.apply(e,P().concat([A,t]))),L&&a(l(t)?t.prototype:t,L)}:(r||S?k=function(e){return v(e,D(),E)}:s&&(u(L)&&(x=L,L=null),k=function(e){e?typeof e=="object"&&(e=v(e,0,E)):e=function(){};var t=e.prototype,n=0,r=function(t,r){return a(e[t]=new r,{_ordinal:n++,_name:t})};if(u(x))c(x,function(t){r(t,e)});else if(x){var i=function(){};i.prototype=t,h(x,function(t,n){e.apply(r(t,i),n||[])})}return e.valueOf=function(t){return e[t]},a(t,{name:g,ordinal:m,compareTo:y}),t.toString==Object.prototype.toString&&(t.toString=g),e}),d=l(L)?function(){var t=L.apply(e,P().concat([A,M,O]));return t===undefined?O.exports:t}:L),e.define(E,d,k)},C=function(e){var t=this;t.require=e,t.exports={}};C.prototype={logger:function(){var e=this;return e.l||(e.l=w("raptor/logging").logger(e.id))}},e={cache:r,inherit:d,extend:a,forEach:c,arrayFromArguments:function(e,t){return e?t?t<e.length?o.call(e,t):[]:o.call(e):[]},forEachEntry:h,createError:function(e,t){var n,r=arguments.length,i=Error;return r==2?(n=e instanceof i?e:new i(e),n._cause=t):r==1&&(e instanceof i?n=e:n=new i(e)),n},setImplicitId:function(e){this._implicitId=e},define:function(t,i,s){var o;if(!t){if(!this._implicitId)return p.apply(e,arguments);t=this._implicitId,this._implicitId=undefined}var u=n(t);i&&(u.factory=i),s&&(u.postCreate.push(s),(o=r[t])&&s(o)),typeof o=="object"&&o.toString===Object.prototype.toString&&(o.toString=function(){return"["+t+"]"})},exists:function(e){return t.hasOwnProperty(e)},find:function(t){return e.exists(t)?e.require(t):undefined},require:w,normalize:b,_define:N,props:[E,S]};var k;if(typeof window!="undefined"){k=window;var L=S.require=function(e,t){return w(b(e,t))};window.raptorDefine=define=x(function(){return N(arguments,L)}),window.raptorRequire=require=T(function(e,t){return l(t)?require.load(e,t):w(b(e))});if(typeof raptorNoConflict=="undefined"||raptorNoConflict!==!0)window.define=raptorDefine,window.require=raptorRequire;require.normalize=b,define.amd={}}else k=global,module.exports=e;e.define("raptor",e),a(k,{$rset:function(e,t,n){if(typeof t=="object")h(t,function(t,n){$rset(e,t,n)});else{var r=s[e];r||(r=s[e]={}),n!==undefined?r[t]=n:delete r[t]}},$radd:function(e,t){var n=s[e];n||(n=s[e]=[]),n.push(t)},$rget:function(e,t){var n=s[e];return arguments.length==2?n&&n[t]:n},$rdef:function(t){var n=function(){define.apply(this,[t].concat(e.arrayFromArguments(arguments)))};return n.amd={},n}}),e.global=k})();
define("raptor/logging",["raptor"],function(e){var t=function(){return!1},n={isTraceEnabled:t,isDebugEnabled:t,isInfoEnabled:t,isWarnEnabled:t,isErrorEnabled:t,isFatalEnabled:t,dump:t,trace:t,debug:t,info:t,warn:t,error:t,fatal:t};return{logger:function(e){return n},configure:t,voidLogger:n}});
define("raptor/strings/StringBuilder",function(e){"use strict";var t=function(){this.array=[],this.length=0};return t.prototype={append:function(e){return typeof e!="string"&&(e=e.toString()),this.array.push(e),this.length+=e.length,this},toString:function(){return this.array.join("")},clear:function(){return this.array=[],this.length=0,this}},t.prototype.write=t.prototype.append,t});
define("raptor/strings",["raptor"],function(e,t){"use strict";var n="",r=function(e){return e?e.trim():n},i=t("raptor/strings/StringBuilder"),s=/\$\{([A-Za-z0-9_\.]+)\}/g;return{compare:function(e,t){return e<t?-1:e>t?1:0},isEmpty:function(e){return e==null||r(e).length===0},length:function(e){return e==null?0:e.length},isString:function(e){return typeof e=="string"},equals:function(e,t,n){return n!==!1&&(e=r(e),t=r(t)),e==t},notEquals:function(e,t,n){return this.equals(e,t,n)===!1},trim:r,ltrim:function(e){return e?e.replace(/^\s\s*/,""):n},rtrim:function(e){return e?e.replace(/\s\s*$/,""):n},startsWith:function(e,t){return e==null?!1:e.startsWith(t)},endsWith:function(e,t){return e==null?!1:e.endsWith(t)},unicodeEncode:function(e){return"\\u"+("0000"+(+e.charCodeAt(0)).toString(16)).slice(-4)},merge:function(e,t){var n,r,i=[],o=0;s.lastIndex=0;while(n=s.exec(e))i.push(e.substring(o,n.index)),r=t[n[1]],i.push(r!==undefined?r:n[0]),o=s.lastIndex;return i.push(e.substring(o)),i.join("")},StringBuilder:i,createStringBuilder:function(){return new i}}});
define("raptor/xml/utils",function(e,t,n){"use strict";var r=/[&<]/,i=/[&<]/g,s=/[&<>\"\'\n]/,o=/[&<>\"\'\n]/g,u={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;","\n":"&#10;"};return{escapeXml:function(e){return typeof e=="string"&&r.test(e)?e.replace(i,function(e){return u[e]}):e},escapeXmlAttr:function(e){return typeof e=="string"&&s.test(e)?e.replace(o,function(e){return u[e]}):e}}});
define.Class("raptor/render-context/Context",["raptor"],function(e,t){"use strict";var n=e.forEachEntry,r=t("raptor/xml/utils").escapeXmlAttr,i=t("raptor/strings/StringBuilder"),s=e.createError,o=0,u=function(e,n){var r=t(e),i=r[n]||r.prototype&&r.prototype[n];if(!i)throw s(new Error('Helper function not found with name "'+n+'" in class "'+e+'"'));return i},a=function(e){this.writer=e,this.w=this.write,this.listeners={},this.attributes={}};a.classFunc=u;var f={getAttributes:function(){return this.attributes},getAttribute:function(e){return this.attributes[e]},uniqueId:function(){return"c"+o++},write:function(e){return e!==null&&e!==undefined&&(typeof e!="string"&&(e=e.toString()),this.writer.write(e)),this},getOutput:function(){return this.writer.toString()},captureString:function(e,t){var n=new i;return this.swapWriter(n,e,t),n.toString()},swapWriter:function(e,t,n){var r=this.writer;try{this.writer=e,t.call(n)}finally{this.writer=r}},createNestedContext:function(e){var n=t("raptor/render-context").createContext(e);return n.attributes=this.getAttributes(),n},invokeHandler:function(e,n){typeof e=="string"&&(e=t(e));var r=e.process||e.render;r.call(e,n,this)},getFunction:function(e,t){this._helpers||(this._helpers={});var n=e+":"+t,r=this._helpers[n];return r||(r=this._helpers[n]=u(e,t).bind(this)),r},getHelperObject:function(e){this._helpers||(this._helpers={});var n=this._helpers[e]||(this._helpers[e]=t(e));return new n(this)},isTagInput:function(e){return e&&e.hasOwnProperty("_tag")},renderTemplate:function(e,n){return t("raptor/templating").render(e,n,this),this},attr:function(e,t,n){if(t===null||t===!0)t="";else{if(t===undefined||t===!1||typeof t=="string"&&t.trim()==="")return this;t='="'+(n===!1?t:r(t))+'"'}return this.write(" "+e+t),this},attrs:function(e){return arguments.length!==1?this.attr.apply(this,arguments):e&&n(e,this.attr,this),this},t:function(t,n,r,i,s){return n||(n={}),n._tag=!0,r&&(n.invokeBody=r),i&&(n.dynamicAttributes=i),s&&e.extend(n,s),this.invokeHandler(t,n),this},c:function(e){var t=this.captureString(e);return{toString:function(){return t}}}};return f.a=f.attrs,f.f=f.getFunction,f.o=f.getHelperObject,f.i=f.renderTemplate,a.prototype=f,a});
define("raptor/render-context",function(e,t,n){"use strict";var r=e("raptor/strings/StringBuilder"),i=e("raptor/render-context/Context");return{createContext:function(e){return new i(e||new r)},Context:i}});
define("raptor/templating",["raptor"],function(e,t,n,r){"use strict";var i=function(e){return $rget("rhtml",e)},s={},o=Array.isArray,u=e.createError,a=t("raptor/strings/StringBuilder"),f=t("raptor/xml/utils").escapeXml,l=t("raptor/xml/utils").escapeXmlAttr,c=t("raptor/render-context"),h=c.Context,p=h.classFunc,d,v=function(e){var n=t(e),r;return n.process||n.render?r=n:(r=n.instance)||(r=n.instance=new n),r},m=function(e){return Array.isArray(e)===!0?e.length!==0:e},g={h:p,t:v,fv:function(e,t){if(!e)return;e.forEach||(e=[e]);var n=0,r=e.length,i={getLength:function(){return r},isLast:function(){return n===r-1},isFirst:function(){return n===0},getIndex:function(){return n}};for(;n<r;n++){var s=e[n];t(s||"",i)}},f:e.forEach,fl:function(e,t){e!=null&&(o(e)||(e=[e]),t(e,0,e.length))},fp:function(e,t){if(!e)return;for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])},e:function(e){return!m(e)},ne:m,x:f,xa:l,nx:function(e){return{toString:function(){return e}}}};return d={templateFunc:function(e){var t=s[e];if(!t){t=i(e),!t&&this.findTemplate&&(this.findTemplate(e),t=i(e));if(t){var n=this.getTemplateInfo(e);t=t(g,n)}if(!t)throw u(new Error('Template not found with name "'+e+'"'));s[e]=t}return t},getTemplateInfo:function(e){return{name:e}},render:function(e,t,n){if(!n)throw u(new Error("Context is required"));var r=this.templateFunc(e);try{r(t||{},n)}catch(i){throw u(new Error('Unable to render template with name "'+e+'". Exception: '+i),i)}},renderToString:function(e,t,n){var r=new a;if(n===undefined)this.render(e,t,new h(r));else{var i=this;n.swapWriter(r,function(){i.render(e,t,n)})}return r.toString()},unload:function(e){delete s[e],$rset("rhtml",e,undefined)},getFunction:p,createContext:c.createContext,getHandler:v,helpers:g},d});
define("raptor/dom",function(e){"use strict";var t=function(e){if(typeof e=="string"){var t=e;e=document.getElementById(t);if(!e)throw raptor.createError(new Error('Target element not found: "'+t+'"'))}return e},n=function(t){var n=e.find("raptor/pubsub");n&&n.publish("dom/beforeRemove",{el:t})},r={forEachChildEl:function(e,t,n){r.forEachChild(e,t,n,1)},forEachChild:function(e,t,n,r){if(!e)return;var i=0,s=e.childNodes,o=s.length;for(;i<o;i++){var u=s[i];u&&(r==null||r==u.nodeType)&&t.call(n,u)}},detach:function(e){e=t(e),e.parentNode.removeChild(e)},appendTo:function(e,n){t(n).appendChild(t(e))},remove:function(e){e=t(e),n(e),e.parentNode&&e.parentNode.removeChild(e)},removeChildren:function(e){e=t(e),r.forEachChildEl(e,function(e){n(e)}),e.innerHTML=""},replace:function(e,r){r=t(r),n(r),r.parentNode.replaceChild(t(e),r)},replaceChildrenOf:function(e,i){i=t(i),r.forEachChildEl(i,function(e){n(e)}),i.innerHTML="",i.appendChild(t(e))},insertBefore:function(e,n){n=t(n),n.parentNode.insertBefore(t(e),n)},insertAfter:function(e,n){n=t(n),e=t(e);var r=n.nextSibling,i=n.parentNode;r?i.insertBefore(e,r):i.appendChild(e)},prependTo:function(e,n){n=t(n),n.insertBefore(t(e),n.firstChild||null)}};return r});
define("raptor/renderer/RenderResult",function(e){"use strict";var t=e("raptor/dom"),n=function(e,t){this.html=e,this.context=t,this._node=undefined};return n.prototype={getWidget:function(){if(!this.widgetDefs)throw new Error("Cannot call getWidget() until after HTML fragment is added to DOM.");return this.widgetDefs.length?this.widgetDefs[0].widget:undefined},getWidgets:function(e){if(!this.widgetDefs)throw new Error("Cannot call getWidgets() until after HTML fragment is added to DOM.");var t,n;if(e){t=[];for(n=0;n<this.widgetDefs.length;n++){var r=this.widgetDefs[n].widget;e(r)&&t.push(r)}}else{t=new Array(this.widgetDefs.length);for(n=0;n<this.widgetDefs.length;n++)t[n]=this.widgetDefs[n].widget}return t},_afterInsert:function(){var t=e.find("raptor/widgets");if(t){var n=t.getWidgetsContext(this.context);this.widgetDefs=n.widgets}var r=e.find("raptor/pubsub");return r&&r.publish("raptor/renderer/renderedToDOM",{node:this.getNode(),context:this.context}),this},appendTo:function(e){return t.appendTo(this.getNode(),e),this._afterInsert()},replace:function(e){return t.replace(this.getNode(),e),this._afterInsert()},replaceChildrenOf:function(e){return t.replaceChildrenOf(this.getNode(),e),this._afterInsert()},insertBefore:function(e){return t.insertBefore(this.getNode(),e),this._afterInsert()},insertAfter:function(e){return t.insertAfter(this.getNode(),e),this._afterInsert()},prependTo:function(e){return t.prependTo(this.getNode(),e),this._afterInsert()},getNode:function(){var e=this._node,t,n;if(e===undefined){if(this.html){n=document.createElement("body"),n.innerHTML=this.html;if(n.childNodes.length==1)e=n.childNodes[0];else{e=document.createDocumentFragment();while(t=n.firstChild)e.appendChild(t)}}else e=document.createDocumentFragment();this._node=e}return e}},n});
define("raptor/renderer",["raptor"],function(e,t){"use strict";var n=t("raptor/render-context"),r=t("raptor/renderer/RenderResult");return{render:function(t,i,s){if(typeof t=="string"){var o=e.find(t);if(!o){if(!t.endsWith("Renderer")){var u=t.lastIndexOf("/");o=e.find(t+"/"+t.substring(u+1)+"Renderer")}if(!o)throw e.createError(new Error('Renderer not found with name "'+t+'"'))}t=o}var a=t.render||t.process||t;if(typeof a!="function")throw e.createError(new Error('Not a valid renderer: "'+t+'". Renderer must be an object with "render" or "process" function or renderer must be a function.'));var f,l=function(){f=a.call(t,i||{},s)};return s?f=s.captureString(l)||f:(s=n.createContext(),l(),f||(f=s.getOutput())),new r(f,s)},renderTemplate:function(e,n,r){return this.render(function(r,i){t("raptor/templating").render(e,n,i)},{},r)}}});
function renderTemplate(){var e=require("raptor/templating"),t=e.renderToString("colors",{colors:["cyan","magenta","yellow"]});document.getElementById("renderTarget").innerHTML=t}function renderTemplateAppendTo(){require("raptor/renderer").renderTemplate("colors",{colors:["cyan","magenta","yellow"]}).appendTo("renderTarget")};
$rset("rhtml","colors",function(e,t){var n=e.e,r=e.ne,i=e.f,s=e.xa,o=e.x;return function(e,t){var n=e.colors;r(n)?(t.w("<ul>"),i(n,function(e){t.w('<li style="color: ').w(s(e)).w('">').w(o(e)).w("</li>")}),t.w("</ul>")):t.w("<div>No colors!</div>")}});